<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <title>Admin Dashboard</title>
</head>
<body>

<div th:replace="~{fragments/header :: header}"></div>

<h2>Admin Dashboard</h2>
<ul class="stats-list" style="list-style-type: none; padding: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 30px;">
    <li style="background: var(--card-bg); padding: 15px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; align-items: center; justify-content: space-between;">
        <span>Total Requests</span>
        <span th:text="${stats.totalRequests}" style="font-weight: bold; color: var(--primary-color);"></span>
    </li>
    <li style="background: var(--card-bg); padding: 15px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; align-items: center; justify-content: space-between;">
        <span>Pending</span>
        <span th:text="${stats.pendingCount}" style="font-weight: bold; color: var(--primary-color);"></span>
    </li>
    <li style="background: var(--card-bg); padding: 15px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; align-items: center; justify-content: space-between;">
        <span>Completed</span>
        <span th:text="${stats.completedCount}" style="font-weight: bold; color: var(--primary-color);"></span>
    </li>
    <li style="background: var(--card-bg); padding: 15px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; align-items: center; justify-content: space-between;">
        <span>Top Service Type</span>
        <span th:text="${stats.topServiceType}" style="font-weight: bold; color: var(--primary-color);"></span>
    </li>
</ul>

<div style="margin-top: 30px; text-align: left; width: 100%; padding-left: 0; display: block;">
    <div style="background: transparent; border: none; padding: 0; margin: 0; width: auto; text-align: left;">
        <form th:action="@{/admin/strategy}" method="post" style="margin-bottom: 20px; display: flex; gap: 20px; justify-content: flex-start;">

            <button type="submit" name="type" value="priority" class="btn btn-small btn-success" style="min-width: 260px; font-size: 1.0em; border: none; box-shadow: none;">
                Priority-Based Scheduling
            </button>

            <button type="submit" name="type" value="earliest" class="btn btn-small btn-success" style="min-width: 260px; font-size: 1.0em; border: none; box-shadow: none;">
                Earliest Available Scheduling
            </button>

        </form>
    </div>
</div>

<a th:href="@{/requests/next}" class="btn btn-small view-next-btn" style="display:inline-block; width:auto; max-width:400px; text-align: center; margin-top: 20px;">
    View Next Scheduled Request
</a>

<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>
